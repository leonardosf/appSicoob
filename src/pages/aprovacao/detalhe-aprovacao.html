<ion-header>
    <mcc-cabecalho titulo="Aprovação"></mcc-cabecalho>
</ion-header>
<ion-content class="detalhe-aprovacao">
    <div class="div-detalhe-aprovacao">
        <div *ngIf="tomador.nomePessoa && tomador.numCpfCnpj">
            <ion-card padding-sm id="tomador-info">
                <ion-card-header>
                    <ion-grid>
                        <ion-row>
                            <ion-col col-auto>
                                <i class="mc-icon-user icon"></i>
                            </ion-col>
                            <ion-col>
                                <h1>
                                    {{tomador.nomePessoa}}
                                    <small>{{tomador.numCpfCnpj}}</small>
                                </h1>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card-header>
            </ion-card>
        </div>
    </div>
    <div id="documentos">
        <ion-segment [(ngModel)]="abaAprovacao">
            <ion-segment-button value="estudo">
                Estudo da Proposta
            </ion-segment-button>
            <ion-segment-button value="parecer">
                Parecer
            </ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="abaAprovacao">
            <!-- Itens da aba parecer -->
            <div *ngSwitchCase="'parecer'" class="documentos-list">
                <ion-grid>
                    <ion-list *ngFor="let item of itensParecer">
                        <button (click)="expandItem(item)" ion-item>
                            <i class={{item.icon}} [ngClass]="item"></i>
                            <i>{{item.titulo}}</i>
                        </button>
                        <div class="expandable">
                            <expandable *ngIf="item.expanded" [expanded]="item.expanded">
                                <div *ngIf="item.titulo == 'Estudo'">
                                    <enquadramento [dto]="item.dto"></enquadramento>
                                </div>
                            </expandable>
                        </div>
                    </ion-list>
                </ion-grid>
            </div>
            <!-- Itens da aba proposta estudo -->
            <div *ngSwitchCase="'estudo'" class="documentos-list">
                <ion-card>
                    <ion-grid>
                        <ion-list *ngFor="let item of itensEstudo">
                            <button (click)="expandItem(item)" ion-item>
                                <i class={{item.icon}} [ngClass]="item"></i>
                                <i>{{item.titulo}}</i>
                            </button>
                            <div id="expandable">
                                <expandable *ngIf="item.expanded" [expanded]="item.expanded">
                                    <div *ngIf="item.titulo == 'Enquadramento da Proposta'">
                                        <enquadramento [dto]="item.dto"></enquadramento>
                                    </div>
                                </expandable>
                            </div>
                        </ion-list>
                    </ion-grid>
                </ion-card>
            </div>
            <div class="btn-full-warp" *ngSwitchCase="'parecer'">
                <!-- Caixa de texto parecer-->
                <i>Parecer</i>
                <ion-item id="input-textarea">
                    <ion-textarea placeholder="Digite o parecer"></ion-textarea>
                </ion-item>
                <!-- Botoes -->
                <ion-grid>
                    <ion-row>
                        <ion-col col-6>
                            <ion-item>
                                <ion-select interface="alert" [(ngModel)]="acaoParecerModel" ngControl="acaoPar" #acaoPar="ngModel" name="acaoPar"
                                 (ionChange)="atualizaAcaoParecer()" cancelText="Cancelar">
                                    <!-- <ion-option value='Selecione'>Selecione</ion-option> -->
                                    <ion-option *ngFor="let acao of acaoParecer" [value]="acao.descricao">{{acao.descricao}}</ion-option>
                                </ion-select>
                            </ion-item>
                        </ion-col>
                        <ion-col col-6>
                            <button ion-button block (click)="enviarParaGarantia()" [disabled]='botaoConfirmar'>Confirmar</button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </div>
        </div>
    </div>
</ion-content>