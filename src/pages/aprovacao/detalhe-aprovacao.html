<ion-header>
    <mcc-cabecalho titulo="Aprovação"></mcc-cabecalho>
</ion-header>
<ion-content class="detalhe-aprovacao">
    <div class="div-detalhe-aprovacao">
        <div *ngIf="tomador.nomePessoa && tomador.numCpfCnpj">
            <ion-card padding-sm id="tomador-info">
                <ion-card-header>
                    <ion-grid>
                        <ion-row>
                            <ion-col col-auto>
                                <i class="mc-icon-user icon"></i>
                            </ion-col>
                            <ion-col>
                                <h1>
                                    {{tomador.nomePessoa}}
                                    <small>{{tomador.numCpfCnpj}}</small>
                                </h1>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card-header>
            </ion-card>
        </div>
    </div>
    <div id="documentos">
        <ion-segment [(ngModel)]="abaAprovacao">
            <ion-segment-button value="resumoProposta">
                Resumo da Proposta
            </ion-segment-button>
            <ion-segment-button value="parecer">
                Pareceres Anteriores
            </ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="abaAprovacao">
            <!-- Itens da aba parecer -->
            <div *ngSwitchCase="'parecer'" class="documentos-list">
                <ion-grid>
                    <ion-list *ngFor="let item of itensParecer">
                        <button (click)="expandItem(item)" ion-item>
                            <i class={{item.icon}}></i>
                            <i>{{item.titulo}} - {{item.dto.dataInicio | date: 'dd/MM/yyyy'}}</i>
                        </button>
                        <div class="expandable">
                            <expandable *ngIf="item.expanded" [expanded]="item.expanded">
                                <div *ngIf="item.titulo == 'Estudo'">
                                    <parecerEstudo [dto]="item.dto"></parecerEstudo>
                                </div>
                            </expandable>
                        </div>
                    </ion-list>
                </ion-grid>
            </div>
            <!-- Itens da aba proposta estudo -->
            <div *ngSwitchCase="'resumoProposta'" class="documentos-list">
                <ion-row>
                    <h1>Detalhamento da Transação</h1>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Proposta Número:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoPropostaCreditoDTO.dataProposta | date: 'dd/MM/yyyy'}}</i> -->
                        <i>21365412</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Fluxo:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoPropostaCreditoDTO.classificacaoOperacao}}</i> -->
                        <i>2</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-3>
                        Cooperativa:
                    </ion-col>
                    <ion-col col-3>
                        <!-- <i>{{dto.enquadramentoPropostaCreditoDTO.origemRecurso}}</i> -->
                        <i>3219</i>
                    </ion-col>
                    <ion-col col-2>
                        PA:
                    </ion-col>
                    <ion-col col-2>
                        <!-- <i>{{dto.enquadramentoPropostaCreditoDTO.origemRecurso}}</i> -->
                        <i>00</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Cliente:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoPropostaCreditoDTO.finalidade}}</i> -->
                        <i>Cliente teste</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Data da Proposta:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.menorValorParcela}}</i> -->
                        <i>19/04/2018</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Data da Operação:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>19/04/2018</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Valor da Proposta:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>R$ 20.000,00</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Valor da Contratado:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>R$ 20.000,00</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Taxa Juros:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>0.5%</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Classificação da Operação:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i></i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Quantidade de Parcelas:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>12</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Primeiro Vencimento:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>19/10/2018</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Último Vencimento:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>19/10/2019</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Produto:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>Emprestimo</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Linha de Crédito:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i>Linha Teste</i>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-6>
                        Indicador de Cálculo:
                    </ion-col>
                    <ion-col col-6>
                        <!-- <i>{{dto.enquadramentoResPlanoPagamentoDTO.maiorValorParcela}}</i> -->
                        <i></i>
                    </ion-col>
                </ion-row>
            </div>
            <div class="btn-full-warp">
                <!-- Caixa de texto parecer-->
                <i>Parecer</i>
                <ion-item id="input-textarea">
                    <ion-textarea [(ngModel)]="parecerNegocial" ngControl="parecerNegocial"></ion-textarea>
                </ion-item>
                <!-- Botoes -->
                <ion-grid>
                    <ion-row>
                        <ion-col col-6>
                            <ion-item>
                                <ion-select interface="alert" [(ngModel)]="acaoParecerModel" ngControl="acaoPar" #acaoPar="ngModel" name="acaoPar" (ionChange)="atualizaAcaoParecer()"
                                    (onBlur)="atualizaAcaoParecer()" cancelText="Cancelar">
                                    <!-- <ion-option value='Selecione'>Selecione</ion-option> -->
                                    <ion-option *ngFor="let acao of acaoParecer" [value]="acao.descricao">{{acao.descricao}}</ion-option>
                                </ion-select>
                            </ion-item>
                        </ion-col>
                        <ion-col col-6>
                            <button ion-button block (click)="confirmar()" [disabled]='botaoConfirmar'>Confirmar</button>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-6>
                            <button ion-button block (click)="abrirEstudoProposta()">Estudo Proposta</button>
                        </ion-col>
                        <ion-col col-6>
                            <button ion-button block (click)="imprimir()">Imprimir</button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </div>
        </div>
    </div>
</ion-content>